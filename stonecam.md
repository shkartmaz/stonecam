# Stonecam concept & viability estimate
_Программно-аппаратный комплекс для фотосъемки и измерения образцов минералов_

## Hardware
- куб 50 см
- белое рассеивающее покрытие внутри
- веб-камера FullHD или 4K
- светодиодная подсветка
- встроенные весы
- устойчивый к истиранию предметный стол
- терминал управления
- мозг на Arduino / RPi / eeePC
- дальномеры или вспомогательные оптические датчики / стереопары

## Software
- python
- импорт номеров образцов из CSV
- получение веса и размера от датчиков
- экспорт результатов в CSV
- раскидывание фоток по папкам

## Фичи
- полуавтоматическая регистрация номера образца
- автоматическое измерение веса
- съемка одной кнопкой с авторезкостью
- автоматическая пост-обработка фото: баланс белого, кадрирование, сохранение под номером

## Benefits

**Экономия времени
- перекладывание - 0 %
- съемка фото - 15 %
- измерение веса - 100 % (попутное без участия оператора)
- измерение размера - 100 % (попутное без участия оператора)
**Общая на работу с образцом - 40 - 50 %

- обработка фото - неизвестно (консервативно 30 %)
- сортировка фото - 100 % (автоматическая при съемке)
- заливка на сайт - 0 %
**Общая на работу с файлами - 30 %

- возня с весами, столом и прочим - полчаса или больше каждый раз (5-10 % времени в музее)

**Итого общая экономия времени порядка 30 % 
При норме 30 часов / 30 к в месяц (МНР):
- -10 часов или +10 к в месяц (всего 40к)
- -60 часов или +60 к за полгода (всего 240к)
- -120 часов или +120 к за календарный год (всего 480к) - очень приятно

При усиленной норме 60 часов / 60 к в месяц:
- +20к в месяц (всего 80к)
- +120к за полгода (всего 480к)
- +240к за год (всего 960к) - заебок

**Нематериальное
- респект от Плечова
- портфолио в инженерии / разработке

## Бюджет на создание
- камера 5к
- RPi и Arduino бесплатно
- старый ноут 10к
- датчики и комплектуха 10к
- корпус 5к
- светодиоды 5к
- всякое 5к
Итого деньги - 40к
Время - 40 часов

## ИТОГ
Проект требует затрат, эквивалентных месяцу ненапряжной работы (МНР)
Ускорит работу на 30% => окупаемость 3 МНР
Работать станет легче и приятнее, можно вкладывать х2 времени => окупаемость 1.5 месяца, через полгода чистый бенефит 50к

## Ошибка планирования
Проект займет в два раза больше времени, будет в два раза дороже, экономия времени в два раза меньше
60 к и 80 часов на сборку
Экономия времени 15 %
Время окупаемости - 6 МНР / 3 МР
Чистый бенефит через полгода 0 / 60к
МНР: +5к / +30к / +60к (всего 240к) - маловато будет :/, но все равно выгодно
МР: +10к / +60к / +120к (всего 480к) - вообще норм

## Pitfalls
- Недоступность комплектующих, рост расходов и времени ожидания
- Страшные баги в коде, потеря времени, фрустрация
- Сложность работы с хардом, несовместмость, отсутствие драйверов и документации, фрустрация и потеря времени
- __INTEGRATION __HELL



## Алгоритм 

### Рабочий цикл 1 (РЦ-1):
1. Получить номер места хранения с клавиатуры
2. Выгрузить из CSV (*с сайта лол*) номера образцов в месте хранения
3. Начать РЦ-2, передать список образцов
4. Получить запись (DataFrame) результатов из РЦ-2 и дописать в файл

### РЦ-2:
0. Вывести на экран список образцов в месте хранения
1. Запросить номер образца (выбор курсором ИЛИ частичный ввод с подтверждением)
1.1 Ждать команды для начала измерений
2. Получить от датчиков результаты, добавить в df
3. Получить от камеры фото, обработать, сохранить
4. Повторять, пока оператор не нажмет ВЫХОД
5. Передать df в РЦ-1

# Интерфейс
- консольный, управление с клавиатуры

